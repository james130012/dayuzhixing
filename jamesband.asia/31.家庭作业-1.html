<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å„¿ç«¥è‹±è¯­èŒƒæ–‡å­¦ä¹ ï¼šè¶£å‘³ç‰©ç†é€»è¾‘è§£è¯»ä¸åŠ¨ç”»æ¼”ç¤º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <style>
        /* A3 and custom styles based on user's example */
        body {
            font-family: 'LXGW WenKai Lite', 'KaiTi', 'SimSun', sans-serif; /* æ´»æ³¼çš„å­—ä½“ */
            font-size: 16pt; /* ä¸‰å·å­— (16pt) */
            line-height: 1.8;
            background-color: #f8f9fa; /* å¹²å‡€çš„èƒŒæ™¯ è‰² */
            color: #333;
            margin: 0;
            padding: 0;
        }

        /* Styling for A3 printing */
        @media print {
            html, body {
                width: 297mm;
                margin: 0;
                padding: 0;
                font-size: 12pt; /* Adjust font size for print if 16pt is too large */
            }
            .content-wrapper {
                width: 277mm; /* 297mm - 10mm margin on each side */
                margin: 10mm auto; /* Standard A3 margins */
                box-shadow: none;
                border: none;
            }
            .page-break {
                page-break-after: always;
            }
            .no-print { display: none !important; }
            canvas { 
                max-width: 100% !important; 
                height: auto !important; 
                border: 1px solid #ccc !important; /* Add border for print clarity */
            }
            .animation-container {
                page-break-inside: avoid; /* Try to keep animation and its text together */
            }
            h1,h2,h3,h4 { page-break-after: avoid; page-break-inside: avoid; }
            p, ul, ol { page-break-inside: avoid; }
        }

        .content-wrapper {
            max-width: 1000px; /* Readable width on screen */
            margin: 20px auto;
            padding: 20px 40px; /* More padding for better look */
            background-color: #ffffff;
            border-radius: 12px; /* Softer corners */
            box-shadow: 0 8px 16px rgba(0,0,0,0.08); /* More pronounced shadow */
        }
        h1, h2, h3 {
            color: #1a237e; /* Darker, more academic blue */
            margin-top: 1.8em;
            margin-bottom: 1em;
            font-weight: 600; /* Bolder headings */
        }
        h1 { 
            font-size: 2.2em; /* Slightly smaller H1 for balance */
            text-align: center; 
            border-bottom: 3px solid #3f51b5; /* Indigo border */
            padding-bottom: 0.4em; 
            margin-bottom: 1.2em;
        }
        h2 { font-size: 1.7em; color: #3f51b5; /* Indigo sub-headings */ border-left: 5px solid #3f51b5; padding-left: 10px;}
        h3 { font-size: 1.3em; color: #ad1457; /* Pinkish-red for H3 */ margin-top: 1.5em;}
        
        strong, .highlight { 
            color: #c62828; /* Stronger red for highlight */ 
            font-weight: 600; /* Ensure highlighted text is bold */
        }
        .text-content p { 
            margin-bottom: 1.2em; 
            text-indent: 2em; 
            text-align: justify; 
        }
        .text-content ul, .text-content ol {
            margin-left: 2em;
            margin-bottom: 1em;
            padding-left: 1.5em; 
        }
        .text-content li { margin-bottom: 0.5em; }

        .animation-container {
            margin: 40px 0;
            padding: 25px;
            border: 1px solid #ced4da; 
            border-radius: 10px; 
            background-color: #fdfdff; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.04);
        }
        .animation-canvas {
            width: 100%;
            /* height: 300px; /* Default height, specific canvases can override */
            margin: 15px auto;
            display: block;
            border-radius: 6px;
            background-color: #fff; 
            border: 1px solid #e0e0e0;
        }
        
        .control-buttons button {
            background-color: #3f51b5; 
            color: white;
            padding: 12px 20px; 
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95em; 
            margin-right: 12px;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .control-buttons button:hover {
            background-color: #303f9f; 
            transform: translateY(-1px);
        }
        .control-buttons button:active {
            transform: translateY(0px);
        }
        .formula-like { /* For simple text formulas */
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            background-color: #e8eaf6; 
            padding: 8px 12px;
            border-radius: 5px;
            display: inline-block;
            margin: 5px 0;
            color: #1a237e; 
            border: 1px solid #c5cae9; 
            font-size: 0.9em; 
        }
        @font-face {
            font-family: 'LXGW WenKai Lite';
            src: url('https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/lxgwwenkailite-regular.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'LXGW WenKai Lite';
            src: url('https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/lxgwwenkailite-bold.woff2') format('woff2');
            font-weight: bold;
            font-style: normal;
        }
        .text-center { text-align: center; }
        .text-gray-600 { color: #5f6368; } 
        .mb-12 { margin-bottom: 3rem; }
        .mt-2 { margin-top: 0.5rem; }
        .text-sm { font-size: 0.875rem; }
    </style>
</head>
<body class="bg-gray-100">
    <div class="content-wrapper">
        <h1>å„¿ç«¥è‹±è¯­èŒƒæ–‡å­¦ä¹ ï¼šè¶£å‘³ç‰©ç†é€»è¾‘è§£è¯»ä¸åŠ¨ç”»æ¼”ç¤º</h1>
        <p class="text-center text-gray-600 mb-12 text-sm">ï¼ˆæ ¹æ®æ‚¨æä¾›çš„ä¸‰ç¯‡è‹±è¯­çŸ­æ–‡è¿›è¡Œåˆ†æï¼‰</p>

        <section id="intro" class="text-content">
            <h2>å¼•è¨€ï¼šç»™å­©å­çš„â€œç‰©ç†é€»è¾‘â€å°é­”é•œ</h2>
            <p>å°æœ‹å‹ä»¬ï¼Œä½ ä»¬çŸ¥é“å—ï¼Ÿæˆ‘ä»¬æ¯å¤©è¯»çš„å°æ•…äº‹ã€å°çŸ­æ–‡ï¼Œé‡Œé¢å…¶å®è—ç€å¥½å¤šæœ‰è¶£çš„â€œå°æœºå…³â€å’Œâ€œå°é“ç†â€ï¼Œå°±åƒæˆ‘ä»¬ç©ç§¯æœ¨ã€çœ‹åŠ¨ç”»ç‰‡ä¸€æ ·ï¼Œéƒ½æœ‰å®ƒè‡ªå·±çš„<strong class="highlight">â€œæ­å»ºæ–¹æ³•â€</strong>å’Œ<strong class="highlight">â€œè¿è¡Œè§„åˆ™â€</strong>ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä¸€èµ·æ‹¿èµ·ä¸€é¢ç‰¹åˆ«çš„â€œç‰©ç†é€»è¾‘å°é­”é•œâ€ï¼Œæ¥ç…§ä¸€ç…§ä½ ä»¬çš„è‹±è¯­èŒƒæ–‡ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å‘ç°ä¸€äº›èƒ½è®©å­¦ä¹ å˜å¾—æ›´ç®€å•ã€æ›´å¥½ç©çš„å°ç§˜å¯†ï¼</p>
            <p>â€œç‰©ç†é€»è¾‘â€å¬èµ·æ¥å¥½åƒå¾ˆé«˜æ·±ï¼Œä½†åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ˜¯<strong class="highlight">äº‹ç‰©è¿ä½œçš„åŸºæœ¬é“ç†</strong>ã€‚æ¯”å¦‚ï¼Œä¸ºä»€ä¹ˆæ¨ä¸œè¥¿å®ƒä¼šåŠ¨ï¼ˆåŠ›ä¸è¿åŠ¨ï¼‰ï¼Ÿä¸ºä»€ä¹ˆæ°´ä¼šå¾€ä½å¤„æµï¼ˆèƒ½é‡ä¸åŠ¿èƒ½ï¼‰ï¼Ÿä¸ºä»€ä¹ˆæ­ç§¯æœ¨è¦åº•åº§ç¨³å›ºï¼ˆç»“æ„ä¸å¹³è¡¡ï¼‰ï¼Ÿæˆ‘ä»¬å°†ç”¨ç±»ä¼¼è¿™æ ·çš„â€œé“ç†â€å»è§‚å¯Ÿä½œæ–‡æ˜¯æ€ä¹ˆâ€œæ­å»ºâ€èµ·æ¥çš„ï¼Œå®ƒçš„â€œåŠ›é‡â€ä»å“ªé‡Œæ¥ï¼Œæ€æ ·æ‰èƒ½è®©å®ƒâ€œç¨³ç¨³åœ°â€è¡¨è¾¾æ¸…æ¥šæ„æ€ï¼Œå¹¶ä¸”æ·±æ·±åœ°å°åœ¨æˆ‘ä»¬çš„è„‘æµ·é‡Œã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºå¥‡å¦™çš„æ¢ç´¢ä¹‹æ—…å§ï¼</p>
        </section>

        <section id="essay1" class="text-content">
            <h2>èŒƒæ–‡ä¸€ï¼šâ€œæˆ‘çš„è¶£å‘³æ´»åŠ¨â€ï¼ˆç½‘æ¸¸ç¯‡ï¼‰çš„ç‰©ç†é€»è¾‘é€è§†</h2>
            <p>è¿™ç¯‡å°ä½œæ–‡è®²çš„æ˜¯â€œæˆ‘â€å–œæ¬¢ç©ç½‘ç»œæ¸¸æˆï¼Œæ¸¸æˆå¸¦æ¥äº†å¾ˆå¤šä¹è¶£ï¼Œä½†ä¹ŸèŠ±æ‰äº†â€œæˆ‘â€å¤ªå¤šçš„æ—¶é—´ï¼Œå¯¼è‡´å¿˜è®°ä½œä¸šï¼Œè¿˜é”™è¿‡äº†å’Œå®¶äººæœ‹å‹çš„ç›¸å¤„æ—¶å…‰ã€‚åæ¥ï¼Œâ€œæˆ‘â€æ„è¯†åˆ°åº”è¯¥ç«™èµ·æ¥ï¼Œç¦»å¼€å±å¹•ï¼Œå¤šå’Œæœ‹å‹å®¶äººè¿›è¡Œæˆ·å¤–æ´»åŠ¨ï¼Œè¿™æ ·æ‰èƒ½è¿‡ä¸Š<strong class="highlight">â€œå¹³è¡¡çš„ç”Ÿæ´»â€</strong>ã€‚</p>
            
            <h3>â€œæ—¶é—´èƒ½é‡â€çš„åˆ†é…ä¸è½¬æ¢</h3>
            <p>æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªäººä¸€å¤©çš„æ—¶é—´çœ‹ä½œæ˜¯ä¸€ä»½<strong class="highlight">å›ºå®šçš„â€œæ—¶é—´èƒ½é‡åŒ…â€</strong>ã€‚ç©æ¸¸æˆå¾ˆå¿«ä¹ï¼Œå°±åƒç»™æˆ‘ä»¬çš„â€œå¿«ä¹ç”µæ± â€å……ç”µï¼Œè¿™æ˜¯ä¸€ç§èƒ½é‡è¾“å…¥ã€‚ä½†æ˜¯ï¼Œå¦‚æœæŠ•å…¥è¿‡å¤šçš„â€œæ—¶é—´èƒ½é‡â€åˆ°æ¸¸æˆé‡Œï¼Œè¿™ä»½èƒ½é‡å°±ä¸èƒ½ç”¨åœ¨å†™ä½œä¸šã€é™ªå®¶äººè¿™äº›åŒæ ·é‡è¦çš„äº‹æƒ…ä¸Šäº†ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªæ°´æ± ï¼Œæ€»å®¹é‡æ˜¯å›ºå®šçš„ï¼Œæ¸¸æˆå çš„æ°´å¤šäº†ï¼Œå…¶ä»–æ´»åŠ¨èƒ½ç”¨çš„æ°´å°±å°‘äº†ã€‚è¿™ä½“ç°äº†ä¸€ç§<strong class="highlight">â€œèƒ½é‡å®ˆæ’ä¸è½¬åŒ–â€</strong>çš„æ€æƒ³ï¼šæ—¶é—´èŠ±åœ¨å“ªé‡Œï¼Œæ•ˆæœå°±å‡ºåœ¨å“ªé‡Œï¼Œä½†æ€»çš„æ—¶é—´æ˜¯æœ‰é™çš„ã€‚</p>
            <p>ä½œæ–‡é‡Œæåˆ°â€œget lost in the games and forget about my homeworkâ€ï¼Œè¿™å°±æ˜¯â€œæ¸¸æˆèƒ½é‡åœºâ€å¤ªå¼ºï¼ŒæŠŠâ€œæˆ‘â€çš„æ³¨æ„åŠ›â€œå¸â€è¿‡å»äº†ï¼Œå¯¼è‡´åˆ†é…ç»™â€œä½œä¸šèƒ½é‡åœºâ€çš„èƒ½é‡ä¸è¶³ã€‚æœ€åçš„è§£å†³æ–¹æ¡ˆæ˜¯é‡æ–°åˆ†é…èƒ½é‡ï¼Œå¢åŠ æˆ·å¤–æ´»åŠ¨å’Œå®¶åº­æ—¶é—´çš„èƒ½é‡æŠ•å…¥ï¼Œè¾¾åˆ°ä¸€ç§æ–°çš„<strong class="highlight">â€œç”Ÿæ´»èƒ½é‡å¹³è¡¡æ€â€</strong>ã€‚å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„â€œå…¬å¼â€æ¥è¡¨ç¤ºè¿™ç§å¹³è¡¡çš„è¿½æ±‚ï¼š<span class="formula-like">ç†æƒ³ç”Ÿæ´» = é€‚åº¦æ¸¸æˆä¹è¶£ + å­¦ä¹ æˆå°± + å®¶åº­æ¸©æš– + æœ‹å‹æƒ…è°Š</span>ã€‚</p>

            <div class="animation-container no-print">
                <h3>åŠ¨ç”»1ï¼šæ—¶é—´èƒ½é‡åˆ†é…ä»ª</h3>
                <div id="timeEnergyCanvas" class="animation-canvas" style="height: 350px;"></div>
                <div class="control-buttons">
                    <button onclick="animInstances.timeEnergy.play()">æ¼”ç¤ºåˆ†é…</button>
                    <button onclick="animInstances.timeEnergy.reset()">é‡ç½®</button>
                </div>
                <p class="text-sm text-gray-600 mt-2">äº¤äº’è¯´æ˜ï¼šç‚¹å‡»â€œæ¼”ç¤ºåˆ†é…â€ï¼Œè§‚å¯Ÿä»£è¡¨â€œæ¸¸æˆâ€ã€â€œå­¦ä¹ â€ã€â€œå®¶åº­â€ã€â€œæˆ·å¤–â€çš„èƒ½é‡æ¡å¦‚ä½•å˜åŒ–ã€‚åˆå§‹çŠ¶æ€å¯èƒ½æ¸¸æˆèƒ½é‡è¿‡å¤šï¼Œå­¦ä¹ å’Œå®¶åº­èƒ½é‡ä¸è¶³ã€‚åŠ¨ç”»å°†æ¼”ç¤ºè°ƒæ•´è¿‡ç¨‹ï¼Œæœ€ç»ˆè¾¾åˆ°å„é¡¹èƒ½é‡ç›¸å¯¹å‡è¡¡çš„çŠ¶æ€ã€‚</p>
            </div>

            <h3>è¡ŒåŠ¨çš„â€œå› æœé“¾æ¡â€</h3>
            <p>ä½œæ–‡æ¸…æ™°åœ°å±•ç¤ºäº†è¡Œä¸ºä¸å…¶åæœä¹‹é—´çš„<strong class="highlight">â€œå› æœé“¾â€</strong>ã€‚æ¯”å¦‚ï¼š</p>
            <ul>
                <li>åŸå› 1ï¼šSpend too much time on games (è¿‡åº¦æŠ•å…¥â€œæ¸¸æˆåŠ›â€)</li>
                <li>ç»“æœ1aï¼šForget homework (å­¦ä¹ â€œåŠ¨èƒ½â€å‡å¼±)</li>
                <li>ç»“æœ1bï¼šMiss out sweet moments with family and friends (æƒ…æ„Ÿâ€œè¿æ¥åŠ›â€å‡å¼±)</li>
            </ul>
            <p>è€Œæ”¹å˜è¡ŒåŠ¨ï¼ˆâ€œç«™èµ·æ¥ï¼Œç¦»å¼€å±å¹•â€ï¼‰åˆ™å¯åŠ¨äº†æ–°çš„å› æœé“¾ï¼š</p>
            <ul>
                <li>åŸå› 2ï¼šGo outside and hike, have picnics (æŠ•å…¥æ–°çš„â€œå¥åº·åŠ›â€å’Œâ€œäº²æƒ…åŠ›â€)</li>
                <li>ç»“æœ2ï¼šLive a balanced life (ç”Ÿæ´»ç³»ç»Ÿè¾¾åˆ°â€œå’Œè°æŒ¯åŠ¨â€çŠ¶æ€)</li>
            </ul>
            <p>ç†è§£è¿™äº›â€œå› æœé“¾â€ï¼Œå°±åƒç†è§£å¤šç±³è¯ºéª¨ç‰Œä¸€æ ·ï¼Œä¸€ä¸ªè¡Œä¸ºä¼šå¼•å‘ä¸€ç³»åˆ—è¿é”ååº”ã€‚è¿™èƒ½å¸®åŠ©æˆ‘ä»¬é¢„æµ‹è¡Œä¸ºçš„åæœï¼Œä»è€Œåšå‡ºæ›´æ˜æ™ºçš„é€‰æ‹©ã€‚</p>
            <div class="animation-container no-print">
                <h3>åŠ¨ç”»2ï¼šå› æœå¤šç±³è¯º</h3>
                <div id="dominoEffectCanvas" class="animation-canvas" style="height: 300px;"></div>
                <div class="control-buttons">
                    <button onclick="animInstances.dominoEffect.triggerBad()">æ¼”ç¤ºä¸è‰¯åæœ</button>
                    <button onclick="animInstances.dominoEffect.triggerGood()">æ¼”ç¤ºç§¯æè¡ŒåŠ¨</button>
                    <button onclick="animInstances.dominoEffect.reset()">é‡ç½®</button>
                </div>
                <p class="text-sm text-gray-600 mt-2">äº¤äº’è¯´æ˜ï¼šç‚¹å‡»â€œæ¼”ç¤ºä¸è‰¯åæœâ€ï¼Œè§‚çœ‹ä»£è¡¨â€œæ²‰è¿·æ¸¸æˆâ€çš„ç¬¬ä¸€å—éª¨ç‰Œå€’ä¸‹ï¼Œå¼•å‘â€œå¿˜è®°ä½œä¸šâ€ã€â€œé”™è¿‡é™ªä¼´â€ç­‰åç»­éª¨ç‰Œå€’å¡Œã€‚ç‚¹å‡»â€œæ¼”ç¤ºç§¯æè¡ŒåŠ¨â€ï¼Œè§‚çœ‹â€œèµ°å‘æˆ·å¤–â€çš„éª¨ç‰Œå¦‚ä½•å»ºç«‹ä¸€ä¸ªç§¯æçš„åºåˆ—ã€‚</p>
            </div>
        </section>
        
        <div class="page-break"></div>
        <section id="essay2" class="text-content">
            <h2>èŒƒæ–‡äºŒï¼šâ€œæˆ‘çš„è¶£å‘³æ´»åŠ¨â€ï¼ˆçœ‹ç”µè§†ç¯‡ï¼‰çš„ç‰©ç†é€»è¾‘é€è§†</h2>
            <p>è¿™ç¯‡ä½œæ–‡è®²çš„æ˜¯â€œæˆ‘â€æœ€å–œæ¬¢çš„è¶£å‘³æ´»åŠ¨æ˜¯çœ‹ç”µè§†ã€‚çœ‹ç”µè§†èƒ½æ”¾æ¾ï¼Œèƒ½å­¦åˆ°æ–°çŸ¥è¯†ï¼ˆæ¯”å¦‚ä»æ—…æ¸¸èŠ‚ç›®äº†è§£ä¸åŒæ–‡åŒ–ï¼Œçœ‹åŠ¨ç”»ç‰‡å¼€æ€€å¤§ç¬‘ï¼‰ã€‚ä½†æ˜¯ï¼ŒèŠ±å¤ªå¤šæ—¶é—´çœ‹ç”µè§†ä¹Ÿä¸å¥½ï¼Œå¯èƒ½ä¼¤çœ¼ç›ã€æµªè´¹æ—¶é—´ï¼Œå˜æˆâ€œæ²™å‘åœŸè±†â€ï¼Œè¿˜ä¼šé”™è¿‡å’Œå®¶äººç›¸å¤„çš„æ—¶å…‰ã€‚æ‰€ä»¥ï¼Œâ€œæˆ‘â€è®¤ä¸ºåº”è¯¥<strong class="highlight">â€œé€‚åº¦åœ°â€</strong>è¿›è¡Œè¶£å‘³æ´»åŠ¨ï¼Œæ¯”å¦‚æ¯å¤©å®Œæˆä½œä¸šååªçœ‹ä¸€å°æ—¶ç”µè§†ï¼Œå¹¶ä¸”è¦å’Œå®¶äººäº¤æµã€‚</p>

            <h3>â€œåŒåˆƒå‰‘æ•ˆåº”â€ä¸â€œé˜ˆå€¼â€æ¦‚å¿µ</h3>
            <p>çœ‹ç”µè§†å°±åƒä¸€æŠŠ<strong class="highlight">â€œåŒåˆƒå‰‘â€</strong>ï¼Œå®ƒæ—¢æœ‰æœ‰åˆ©çš„ä¸€é¢ï¼ˆæ”¾æ¾ã€å­¦ä¹ ï¼‰ï¼Œä¹Ÿæœ‰ä¸åˆ©çš„ä¸€é¢ï¼ˆä¼¤çœ¼ã€æµªè´¹æ—¶é—´ï¼‰ã€‚è¿™åœ¨ç‰©ç†ä¸Šå¯ä»¥çœ‹ä½œä¸€ä¸ªç³»ç»ŸåŒæ—¶å—åˆ°<strong class="highlight">â€œæ­£å‘æ¿€åŠ±â€</strong>å’Œ<strong class="highlight">â€œè´Ÿå‘é˜»åŠ›â€</strong>ã€‚å…³é”®åœ¨äºâ€œé‡â€çš„æŠŠæ¡ã€‚ä½œæ–‡ä¸­æåˆ°â€œspending too much time on TV is not goodâ€ï¼Œè¿™é‡Œå°±å‡ºç°äº†ä¸€ä¸ª<strong class="highlight">â€œé˜ˆå€¼â€</strong>ï¼ˆthresholdï¼‰çš„æ¦‚å¿µã€‚é€‚é‡çœ‹ç”µè§†ï¼Œæ­£å‘æ¿€åŠ±å¤§äºè´Ÿå‘é˜»åŠ›ï¼Œæˆ‘ä»¬è·å¾—ç›Šå¤„ï¼›ä¸€æ—¦è¶…è¿‡æŸä¸ªâ€œæ—¶é—´é˜ˆå€¼â€ï¼Œè´Ÿå‘é˜»åŠ›ï¼ˆå¦‚çœ¼ç›ç–²åŠ³çš„â€œç´¯ç§¯æ•ˆåº”â€ã€æ—¶é—´æµé€çš„â€œæœºä¼šæˆæœ¬â€ï¼‰å¼€å§‹æ˜¾ç°å¹¶å¯èƒ½å æ®ä¸»å¯¼ã€‚</p>
            <p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸ªâ€œå¥åº·æŒ‡é’ˆâ€ï¼Œé€‚åº¦çœ‹ç”µè§†æ—¶ï¼ŒæŒ‡é’ˆæŒ‡å‘â€œç»¿è‰²åŒºåŸŸâ€ï¼›è¿‡åº¦æ—¶ï¼ŒæŒ‡é’ˆæ»‘å‘â€œçº¢è‰²è­¦æˆ’åŒºâ€ã€‚â€œCouch potato with a sore neck and dry eyesâ€å°±æ˜¯ç³»ç»Ÿå¤±è¡¡ï¼Œèº«ä½“å‘å‡ºçš„â€œè­¦æŠ¥ä¿¡å·â€ã€‚</p>

            <div class="animation-container no-print">
                <h3>åŠ¨ç”»3ï¼šâ€œè¶£å‘³æ´»åŠ¨â€å¥åº·ä»ªè¡¨ç›˜</h3>
                <div id="healthDashboardCanvas" class="animation-canvas" style="height: 300px;"></div>
                <div class="control-buttons">
                    <button onclick="animInstances.healthDashboard.increaseTime()">å¢åŠ â€œçœ‹ç”µè§†â€æ—¶é—´</button>
                    <button onclick="animInstances.healthDashboard.decreaseTime()">å‡å°‘â€œçœ‹ç”µè§†â€æ—¶é—´</button>
                    <button onclick="animInstances.healthDashboard.reset()">é‡ç½®</button>
                </div>
                <p class="text-sm text-gray-600 mt-2">äº¤äº’è¯´æ˜ï¼šä»ªè¡¨ç›˜æ˜¾ç¤ºå½“å‰çš„â€œå¥åº·çŠ¶æ€â€ã€‚ç‚¹å‡»â€œå¢åŠ çœ‹ç”µè§†æ—¶é—´â€ï¼Œè§‚å¯ŸæŒ‡é’ˆå¦‚ä½•ä»ç»¿è‰²åŒºåŸŸï¼ˆæ”¾æ¾ã€å­¦ä¹ ï¼‰é€æ¸ç§»å‘é»„è‰²ï¼ˆè­¦å‘Šï¼‰ï¼Œç”šè‡³çº¢è‰²åŒºåŸŸï¼ˆä¼¤çœ¼ã€æ²™å‘åœŸè±†ï¼‰ã€‚ç‚¹å‡»â€œå‡å°‘çœ‹ç”µè§†æ—¶é—´â€åˆ™åå‘ç§»åŠ¨ã€‚</p>
            </div>

            <h3>â€œä¿¡æ¯æµâ€çš„è¾“å…¥ä¸äº’åŠ¨</h3>
            <p>çœ‹ç”µè§†æ˜¯ä¸€ç§<strong class="highlight">â€œä¿¡æ¯è¾“å…¥â€</strong>è¿‡ç¨‹ã€‚â€œI can learn about different cultures from travel program.â€ è¿™å°±åƒæ‰“å¼€äº†ä¸€ä¸ªâ€œä¿¡æ¯é€šé“â€ï¼ŒçŸ¥è¯†å’Œæ–‡åŒ–â€œæµâ€å…¥æˆ‘ä»¬çš„å¤§è„‘ã€‚åŠ¨ç”»ç‰‡å¸¦æ¥çš„æ¬¢ç¬‘ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç§¯æçš„<strong class="highlight">â€œæƒ…ç»ªèƒ½é‡æµâ€</strong>ã€‚</p>
            <p>ç„¶è€Œï¼Œè¿™ç§ä¿¡æ¯æµä¸»è¦æ˜¯å•å‘çš„ã€‚ä½œæ–‡æœ€åå¼ºè°ƒâ€œDon't forget to talk about your day with your familyâ€ï¼Œè¿™æ˜¯åœ¨æé†’æˆ‘ä»¬ï¼Œé™¤äº†å•å‘çš„â€œä¿¡æ¯æ¥æ”¶â€ï¼ŒåŒå‘çš„<strong class="highlight">â€œä¿¡æ¯äº¤æµå’Œæƒ…æ„Ÿäº’åŠ¨â€</strong>ï¼ˆå’Œå®¶äººè°ˆè¯ï¼‰åŒæ ·é‡è¦ã€‚ä¸€ä¸ªå¥åº·çš„â€œä¸ªäººç³»ç»Ÿâ€éœ€è¦å¹³è¡¡è¾“å…¥å’Œè¾“å‡ºï¼Œä»¥åŠä¸å¤–éƒ¨ç¯å¢ƒï¼ˆå®¶åº­ã€æœ‹å‹ï¼‰çš„è‰¯å¥½äº’åŠ¨ã€‚è¿™å°±åƒä¸€ä¸ªç”Ÿæ€ç³»ç»Ÿï¼Œæ—¢éœ€è¦é˜³å…‰é›¨éœ²ï¼ˆå¤–éƒ¨è¾“å…¥ï¼‰ï¼Œä¹Ÿéœ€è¦å†…éƒ¨çš„å¾ªç¯å’Œç‰©è´¨äº¤æ¢ã€‚</p>
        </section>

        <div class="page-break"></div>
        <section id="essay3" class="text-content">
            <h2>èŒƒæ–‡ä¸‰ï¼šâ€œæˆ‘çš„å®¶ä¹¡â€ï¼ˆå—å®ç¯‡ï¼‰çš„ç‰©ç†é€»è¾‘é€è§†</h2>
            <p>è¿™ç¯‡ä½œæ–‡ä»‹ç»äº†â€œæˆ‘â€çš„å®¶ä¹¡å—å®ã€‚å®ƒæè¿°äº†å—å®çš„åœ°ç†ä½ç½®ï¼ˆå¹¿è¥¿å—éƒ¨çš„å¤§åŸå¸‚ï¼‰ã€äººå£ï¼ˆ400ä¸‡ï¼‰ã€æ°”å€™ç‰¹ç‚¹ï¼ˆå¤çƒ­å†¬ä¸å†·ï¼‰ã€ç¾èª‰ï¼ˆç»¿åŸï¼‰ã€è‘—åæ™¯ç‚¹ï¼ˆé’ç§€å±±ã€é‚•æ±Ÿï¼‰ã€ç¾é£Ÿï¼ˆè€å‹ç²‰ã€ç²‰é¥ºï¼‰ä»¥åŠå½“åœ°äººçš„ç‰¹ç‚¹ï¼ˆå‹å¥½ã€ä¹äºåŠ©äººï¼‰ã€‚</p>

            <h3>æè¿°çš„â€œç©ºé—´ç»“æ„â€ä¸â€œå±‚çº§é€»è¾‘â€</h3>
            <p>ä»‹ç»ä¸€ä¸ªåœ°æ–¹ï¼Œå°±åƒåœ¨<strong class="highlight">æ„å»ºä¸€ä¸ªâ€œç©ºé—´æ¨¡å‹â€</strong>ã€‚ä½œæ–‡ä»â€œå¤§èŒƒå›´â€åˆ°â€œå°ç»†èŠ‚â€æ¥ç»„ç»‡ä¿¡æ¯ï¼Œä½“ç°äº†ä¸€ç§<strong class="highlight">â€œå±‚çº§é€’è¿›â€</strong>çš„é€»è¾‘ç»“æ„ï¼š</p>
            <ol>
                <li><strong>å®è§‚å®šä½</strong>ï¼šNanning is my hometown. It's a big city in the south of Guangxi. (å¦‚åŒåœ¨åœ°å›¾ä¸Šå…ˆæ‰¾åˆ°çœä»½ï¼Œå†æ‰¾åˆ°åŸå¸‚çš„å¤§è‡´ä½ç½®å’Œçº§åˆ«)</li>
                <li><strong>åŸºæœ¬å±æ€§</strong>ï¼šPopulation of 4 million people. Hot in summer, but not cold in winter. (å¦‚åŒç»™è¿™ä¸ªâ€œåŸå¸‚æ¨¡å‹â€èµ‹äºˆåŸºæœ¬å‚æ•°ï¼Œå¦‚å¤§å°ã€æ°”å€™â€œåœºç‰¹æ€§â€)</li>
                <li><strong>æ ¸å¿ƒç‰¹å¾/åç‰‡</strong>ï¼šFamous as a green city. (æœ€æ˜¾è‘—çš„â€œæ ‡ç­¾â€æˆ–â€œå¸å¼•å­â€)
                    <ul>
                        <li>å…·ä½“è¡¨ç°ï¼šMany trees and flowers along streets. So it's really beautiful. (ç”¨å…·ä½“ç‰©è±¡æ¥æ”¯æ’‘æ ¸å¿ƒç‰¹å¾ï¼Œå½¢æˆâ€œè§†è§‰è¯æ®é“¾â€)</li>
                    </ul>
                </li>
                <li><strong>å…´è¶£ç‚¹/å¸å¼•ä¸­å¿ƒ</strong>ï¼šQingxiu Mountain and Yongjiang River are the most popular places. Lots of delicious food. (å¦‚åŒåœ¨æ¨¡å‹ä¸­æ ‡æ³¨å‡ºé‡è¦çš„â€œåœ°æ ‡å»ºç­‘â€å’Œâ€œèƒ½é‡è¡¥ç»™ç«™â€)</li>
                <li><strong>äººæ–‡ç¯å¢ƒ/ç¤¾ä¼šæ°›å›´</strong>ï¼šLocal people here are very friendly. They are ready to help others. (æè¿°äº†åŸå¸‚â€œè½¯ç¯å¢ƒâ€çš„ç‰¹æ€§ï¼Œå³äººé™…é—´çš„â€œä½œç”¨åŠ›â€æ˜¯å‹å–„çš„)</li>
            </ol>
            <p>è¿™ç§ç”±æ•´ä½“åˆ°å±€éƒ¨ï¼Œç”±æ¦‚æ‹¬åˆ°å…·ä½“çš„æè¿°æ–¹å¼ï¼Œå°±åƒç”¨ä¸åŒç„¦è·çš„é•œå¤´è§‚å¯Ÿç‰©ä½“ï¼Œèƒ½è®©è¯»è€…æ¸…æ™°ã€æœ‰åºåœ°å»ºç«‹èµ·å¯¹å—å®çš„å°è±¡ã€‚è¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„<strong class="highlight">â€œä¿¡æ¯ç»„ç»‡å’Œä¼ é€’â€</strong>ç­–ç•¥ã€‚</p>

            <div class="animation-container no-print">
                <h3>åŠ¨ç”»4ï¼šå®¶ä¹¡å—å®å°è±¡æ‹¼å›¾</h3>
                <div id="hometownPuzzleCanvas" class="animation-canvas" style="height: 380px;"></div>
                <div class="control-buttons">
                    <button onclick="animInstances.hometownPuzzle.startAssembly()">å¼€å§‹æ‹¼æ­å®¶ä¹¡å°è±¡</button>
                    <button onclick="animInstances.hometownPuzzle.reset()">é‡ç½®</button>
                </div>
                <p class="text-sm text-gray-600 mt-2">äº¤äº’è¯´æ˜ï¼šç‚¹å‡»â€œå¼€å§‹æ‹¼æ­å®¶ä¹¡å°è±¡â€ï¼Œä»£è¡¨å—å®ä¸åŒç‰¹å¾ï¼ˆä½ç½®ã€ç»¿åŸã€é’ç§€å±±ã€ç¾é£Ÿã€å‹å¥½çš„äººï¼‰çš„æ‹¼å›¾å—ä¼šé€ä¸€é£å…¥å¹¶ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„å—å®å°è±¡å›¾ã€‚æ¯ä¸ªæ‹¼å›¾å—å‡ºç°æ—¶ä¼šçŸ­æš‚é«˜äº®å…¶æ–‡å­—æ ‡ç­¾ã€‚</p>
            </div>
            
            <h3>â€œå¸å¼•åŠ›â€ä¸â€œè¿æ¥â€</h3>
            <p>ä½œæ–‡ä¸­æåˆ°çš„â€œQingxiu Mountain and Yongjiang River are the most popular places to visitâ€ä»¥åŠâ€œlots of delicious foodâ€ï¼Œè¿™äº›éƒ½å¯ä»¥çœ‹ä½œæ˜¯å®¶ä¹¡çš„<strong class="highlight">â€œå¸å¼•åŠ›æ ¸å¿ƒâ€</strong>ã€‚å®ƒä»¬åƒç£é“ä¸€æ ·ï¼Œå¸å¼•ç€æ¸¸å®¢å’Œæœ¬åœ°å±…æ°‘ã€‚è€Œâ€œThe local people here are very friendly. They are ready to help others.â€åˆ™æè¿°äº†ä¸€ç§äººä¸äººä¹‹é—´çš„<strong class="highlight">ç§¯æâ€œè¿æ¥åŠ›â€</strong>ï¼Œè¿™ç§å‹å–„çš„æ°›å›´ä½¿å¾—åŸå¸‚æ›´å…·é­…åŠ›ï¼Œä¹Ÿæ›´å®¹æ˜“è®©å¤–æ¥è€…äº§ç”Ÿå½’å±æ„Ÿã€‚</p>
            <p>æœ€åçš„â€œI hope you can visit my hometown one day. I'm sure you will love it.â€åˆ™æ˜¯åœ¨å‘å‡ºä¸€ä¸ª<strong class="highlight">â€œé‚€è¯·è¿æ¥â€</strong>çš„ä¿¡å·ï¼Œå¸Œæœ›è¯»è€…ä¹Ÿèƒ½è¢«è¿™ä»½â€œå¸å¼•åŠ›â€æ‰€æ‰“åŠ¨ï¼Œå¹¶äº²èº«ä½“éªŒè¿™ç§â€œè¿æ¥â€ã€‚</p>
            <div class="animation-container no-print">
                <h3>åŠ¨ç”»5ï¼šâ€œå‹å¥½åŠ›åœºâ€ä¸è¿æ¥</h3>
                <div id="friendlyForceFieldCanvas" class="animation-canvas" style="height: 300px;"></div>
                <div class="control-buttons">
                    <button onclick="animInstances.friendlyForceField.toggleField()">å±•ç¤º/éšè—å‹å¥½åŠ›åœº</button>
                    <button onclick="animInstances.friendlyForceField.addVisitor()">å¸å¼•ä¸€ä½â€œè®¿å®¢â€</button>
                    <button onclick="animInstances.friendlyForceField.reset()">é‡ç½®</button>
                </div>
                <p class="text-sm text-gray-600 mt-2">äº¤äº’è¯´æ˜ï¼šç”»å¸ƒä¸­å¤®ä»£è¡¨â€œå—å®â€ã€‚ç‚¹å‡»â€œå±•ç¤º/éšè—å‹å¥½åŠ›åœºâ€ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¸©æš–çš„å…‰ç¯ï¼ˆä»£è¡¨å‹å¥½æ°›å›´ï¼‰ã€‚ç‚¹å‡»â€œå¸å¼•ä¸€ä½è®¿å®¢â€ï¼Œä¸€ä¸ªå°ç‚¹ï¼ˆè®¿å®¢ï¼‰ä¼šè¢«å¸å¼•å¹¶æ„‰å¿«åœ°èå…¥åŸå¸‚ä¸­å¿ƒã€‚</p>
            </div>
        </section>

        <section id="conclusion" class="text-content">
            <h2>ç»“è¯­ï¼šç”¨â€œç‰©ç†é€»è¾‘å°é­”é•œâ€ç…§äº®å­¦ä¹ ä¹‹è·¯</h2>
            <p>å°æœ‹å‹ä»¬ï¼Œé€šè¿‡è¿™é¢â€œç‰©ç†é€»è¾‘å°é­”é•œâ€ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å‘ç°ï¼ŒåŸæ¥è¿™äº›è‹±è¯­èŒƒæ–‡é‡Œè—ç€è¿™ä¹ˆå¤šæœ‰è¶£çš„â€œå°æœºå…³â€å’Œâ€œè¿è¡Œé“ç†â€å‘€ï¼Ÿ</p>
            <p>æˆ‘ä»¬çœ‹åˆ°äº†<strong class="highlight">â€œæ—¶é—´èƒ½é‡â€å¦‚ä½•åˆ†é…</strong>ï¼Œè¿‡åº¦æ²‰è¿·æ¸¸æˆå°±åƒè®©èƒ½é‡åˆ†é…å¤±è¡¡ï¼›æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†<strong class="highlight">â€œå› æœå¤šç±³è¯ºâ€</strong>ï¼Œä¸€ä¸ªè¡ŒåŠ¨ä¼šå¸¦æ¥ä¸€è¿ä¸²çš„åæœï¼›æˆ‘ä»¬è¿˜ç©äº†<strong class="highlight">â€œå¥åº·ä»ªè¡¨ç›˜â€</strong>ï¼Œæ˜ç™½äº†å‡¡äº‹éƒ½è¦æœ‰ä¸ªâ€œåº¦â€ï¼Œä¸èƒ½è¶…è¿‡â€œé˜ˆå€¼â€ï¼›æˆ‘ä»¬è¿˜ä¸€èµ·<strong class="highlight">â€œæ‹¼æ­äº†å®¶ä¹¡å°è±¡â€</strong>ï¼ŒçŸ¥é“äº†æ€æ ·æœ‰æ¡ç†åœ°ä»‹ç»ä¸€ä¸ªåœ°æ–¹ï¼›æœ€åï¼Œæˆ‘ä»¬æ„Ÿå—äº†å®¶ä¹¡çš„<strong class="highlight">â€œå‹å¥½åŠ›åœºâ€</strong>å’Œå®ƒå‘å‡ºçš„â€œè¿æ¥é‚€è¯·â€ã€‚</p>
            <p>è¿™äº›â€œç‰©ç†é€»è¾‘â€çš„è§†è§’ï¼Œå…¶å®å°±æ˜¯åœ¨å¸®æˆ‘ä»¬<strong class="highlight">ç†è§£æ–‡ç« çš„éª¨æ¶å’Œè„‰ç»œ</strong>ï¼Œçœ‹æ¸…æ¥šä½œè€…æƒ³è¦è¡¨è¾¾çš„æ ¸å¿ƒæ„æ€ï¼Œä»¥åŠä»–æ˜¯æ€ä¹ˆä¸€æ­¥æ­¥æŠŠæ„æ€è¯´æ˜ç™½çš„ã€‚å½“æˆ‘ä»¬èƒ½çœ‹æ‡‚è¿™äº›â€œå†…éƒ¨ç»“æ„â€å’Œâ€œè¿ä½œæ–¹å¼â€åï¼Œä¸ä»…èƒ½æ›´å¥½åœ°ç†è§£è¯¾æ–‡ï¼Œè®°ä½å®ƒä»¬ä¹Ÿä¼šå˜å¾—æ›´å®¹æ˜“ã€æ›´æœ‰è¶£ï¼Œå°±åƒæˆ‘ä»¬è®°ä½äº†ä¸€ä¸ªå¥½ç©çš„æ¸¸æˆè§„åˆ™æˆ–è€…ä¸€ä¸ªç²¾å½©çš„åŠ¨ç”»ç‰‡æƒ…èŠ‚ä¸€æ ·ï¼</p>
            <p>å¸Œæœ›è¿™é¢â€œç‰©ç†é€»è¾‘å°é­”é•œâ€èƒ½æˆä¸ºä½ ä»¬å­¦ä¹ è·¯ä¸Šçš„å¥½ä¼™ä¼´ï¼Œå¸®åŠ©ä½ ä»¬å‘ç°æ›´å¤šçŸ¥è¯†çš„ä¹è¶£ï¼ä»¥ååœ¨è¯»åˆ«çš„æ–‡ç« ï¼Œç”šè‡³åœ¨è§‚å¯Ÿç”Ÿæ´»ä¸­çš„äº‹æƒ…æ—¶ï¼Œä¹Ÿä¸å¦¨è¯•è¯•ç”¨è¿™äº›â€œé“ç†â€å»æƒ³ä¸€æƒ³ï¼Œä½ ä»¬ä¸€å®šä¼šæˆä¸ºå°å°â€œé€»è¾‘è§‚å¯Ÿå®¶â€çš„ï¼</p>
        </section>
    </div>

<script>
    // Global control variables for animations
    let animInstances = {};

    // --- Animation 1: Time Energy Allocation ---
    const timeEnergySketch = (p) => {
        let energies = { game: 60, study: 15, family: 15, outdoor: 10 };
        let targetEnergies = { game: 25, study: 30, family: 25, outdoor: 20 };
        let currentEnergies = {};
        let labels = { game: "æ¸¸æˆ", study: "å­¦ä¹ ", family: "å®¶åº­", outdoor: "æˆ·å¤–" };
        let colors = { game: [255, 99, 132], study: [54, 162, 235], family: [255, 206, 86], outdoor: [75, 192, 192] };
        let playing = false;
        let animationProgress = 0; // 0 to 1

        p.setup = () => {
            let canvasContainer = p.select('#timeEnergyCanvas');
            let canvas = p.createCanvas(canvasContainer.width, canvasContainer.height);
            canvas.parent('timeEnergyCanvas');
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };

        p.resetSim = () => {
            currentEnergies = {...energies};
            animationProgress = 0;
            playing = false;
        };
        
        p.drawScene = () => {
            p.background(245, 250, 255);
            p.textSize(16);
            p.textAlign(p.CENTER, p.CENTER);
            p.fill(50);
            p.text("å„é¡¹æ´»åŠ¨æ—¶é—´èƒ½é‡åˆ†é…", p.width / 2, 30);

            let barWidth = (p.width - 100) / 4;
            let maxBarHeight = p.height - 120;
            let totalCurrentEnergy = Object.values(currentEnergies).reduce((a, b) => a + b, 0);

            let i = 0;
            for (let key in currentEnergies) {
                let barHeight = (currentEnergies[key] / 100) * maxBarHeight; // Assuming 100 is max possible for one category for scaling
                let x = 50 + i * barWidth;
                
                p.fill(colors[key][0], colors[key][1], colors[key][2], 150);
                p.rect(x, p.height - 60 - barHeight, barWidth - 10, barHeight, 5);
                
                p.fill(50);
                p.textAlign(p.CENTER, p.CENTER);
                p.textSize(14);
                p.text(labels[key], x + (barWidth - 10) / 2, p.height - 40);
                p.textSize(12);
                p.text(Math.round(currentEnergies[key]) + "%", x + (barWidth - 10) / 2, p.height - 70 - barHeight - 10);
                i++;
            }
            
            if (animationProgress >= 1) {
                 p.fill(0,150,0);
                 p.text("è¾¾åˆ°å¹³è¡¡!", p.width/2, p.height - 95);
            } else if (animationProgress > 0) {
                 p.fill(200,150,0);
                 p.text("è°ƒæ•´ä¸­...", p.width/2, p.height - 95);
            } else {
                 p.fill(200,0,0);
                 p.text("åˆå§‹çŠ¶æ€ (æ¸¸æˆè¿‡å¤š)", p.width/2, p.height - 95);
            }
        };

        p.draw = () => {
            if (!playing) return;
            
            if (animationProgress < 1) {
                animationProgress += 0.01; // Speed of animation
                for (let key in currentEnergies) {
                    currentEnergies[key] = p.lerp(energies[key], targetEnergies[key], animationProgress);
                }
            } else {
                animationProgress = 1; // Ensure it locks at target
                 for (let key in currentEnergies) { // Lock to target
                    currentEnergies[key] = targetEnergies[key];
                }
                playing = false; // Stop animation
                p.noLoop();
            }
            p.drawScene();
        };
        
        p.play = () => { if (!playing || animationProgress >=1) {p.resetSim(); animationProgress = 0;} playing = true; p.loop(); };
        p.reset = () => {
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };
    };

    // --- Animation 2: Domino Effect ---
    const dominoEffectSketch = (p) => {
        let dominos = [];
        let spacing = 60;
        let dominoWidth = 20, dominoHeight = 70;
        let playing = false;
        let currentChain = null; // 'bad' or 'good'
        let fallSpeed = 0.15; // Radians per frame
        let maxAngle = p.HALF_PI + 0.1;

        class Domino {
            constructor(x, y, label, color) {
                this.x = x;
                this.y = y; // Base y
                this.label = label;
                this.angle = 0;
                this.falling = false;
                this.fallen = false;
                this.color = color;
            }

            display() {
                p.push();
                p.translate(this.x, this.y);
                p.rotate(this.angle);
                p.fill(this.color);
                p.stroke(50);
                p.strokeWeight(1);
                p.rectMode(p.CENTER);
                p.rect(0, -dominoHeight / 2, dominoWidth, dominoHeight, 3);
                p.fill(0);
                p.noStroke();
                p.textAlign(p.CENTER, p.CENTER);
                p.textSize(10);
                // Rotate text back to be readable
                p.translate(0, -dominoHeight / 2);
                p.rotate(-this.angle); 
                p.text(this.label, 0, 0);
                p.pop();
            }

            update() {
                if (this.falling && !this.fallen) {
                    this.angle += fallSpeed;
                    if (this.angle >= maxAngle) {
                        this.angle = maxAngle;
                        this.fallen = true;
                        this.falling = false;
                    }
                }
            }

            startFall() {
                if (!this.fallen && !this.falling) {
                    this.falling = true;
                }
            }
            
            reset() {
                this.angle = 0;
                this.falling = false;
                this.fallen = false;
            }
        }

        p.setup = () => {
            let canvasContainer = p.select('#dominoEffectCanvas');
            let canvas = p.createCanvas(canvasContainer.width, canvasContainer.height);
            canvas.parent('dominoEffectCanvas');
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };

        p.resetSim = (chainType = null) => {
            dominos = [];
            playing = false;
            currentChain = chainType;
            let startX = p.width / 2 - ( (chainType === 'bad' ? 3 : 3) * spacing) / 2; // Adjust for number of dominos
            let yPos = p.height - 50;

            if (chainType === 'bad') {
                dominos.push(new Domino(startX, yPos, "æ²‰è¿·æ¸¸æˆ", [255, 100, 100]));
                dominos.push(new Domino(startX + spacing, yPos, "å¿˜è®°ä½œä¸š", [255, 150, 100]));
                dominos.push(new Domino(startX + spacing * 2, yPos, "é”™è¿‡é™ªä¼´", [255, 180, 100]));
            } else if (chainType === 'good') {
                dominos.push(new Domino(startX, yPos, "èµ°å‘æˆ·å¤–", [100, 255, 100]));
                dominos.push(new Domino(startX + spacing, yPos, "èº«å¿ƒå¥åº·", [150, 255, 100]));
                dominos.push(new Domino(startX + spacing * 2, yPos, "ç”Ÿæ´»å¹³è¡¡", [180, 255, 100]));
            }
        };
        
        p.drawScene = () => {
            p.background(255, 250, 245);
            p.textSize(16);
            p.textAlign(p.CENTER, p.CENTER);
            p.fill(50);
            p.text("è¡Œä¸ºçš„å› æœå¤šç±³è¯ºæ•ˆåº”", p.width / 2, 30);

            for (let i = 0; i < dominos.length; i++) {
                dominos[i].display();
            }
        };

        p.draw = () => {
            if (!playing) return;
            
            for (let i = 0; i < dominos.length; i++) {
                dominos[i].update();
                // If a domino has fallen enough, trigger the next one
                if (dominos[i].angle > p.PI / 5 && i + 1 < dominos.length && !dominos[i+1].falling && !dominos[i+1].fallen) {
                     if(p.abs(dominos[i+1].x - dominos[i].x) < dominoHeight * p.sin(dominos[i].angle) + dominoWidth) { // Basic collision
                        dominos[i+1].startFall();
                     }
                }
            }
            
            let allFallen = dominos.every(d => d.fallen);
            if (allFallen && dominos.length > 0) {
                playing = false;
                p.noLoop();
            }
            p.drawScene();
        };
        
        p.triggerChain = (type) => {
            p.resetSim(type);
            if (dominos.length > 0) {
                dominos[0].startFall();
                playing = true;
                p.loop();
            }
             p.drawScene(); // Initial draw after reset
        };
        
        p.reset = () => {
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };
    };

    // --- Animation 3: Health Dashboard ---
    const healthDashboardSketch = (p) => {
        let tvTime = 0; // 0 to 10 (representing hours for simplicity)
        let maxTvTime = 10;
        let optimalTime = 1; // 1 hour is optimal
        let warningTime = 3; // More than 3 hours is warning
        let playing = false; // Not used here, direct interaction

        p.setup = () => {
            let canvasContainer = p.select('#healthDashboardCanvas');
            let canvas = p.createCanvas(canvasContainer.width, canvasContainer.height);
            canvas.parent('healthDashboardCanvas');
            p.noLoop();
            p.drawScene();
        };
        
        p.drawScene = () => {
            p.background(250, 255, 250);
            p.textSize(16);
            p.textAlign(p.CENTER, p.CENTER);
            p.fill(50);
            p.text("â€œçœ‹ç”µè§†â€å¥åº·ä»ªè¡¨ç›˜", p.width / 2, 30);
            p.textSize(14);
            p.text(`å½“å‰æ¨¡æ‹Ÿçœ‹ç”µè§†æ—¶é—´: ${tvTime.toFixed(1)} å°æ—¶`, p.width/2, p.height - 30);

            let centerX = p.width / 2;
            let centerY = p.height / 2 + 20;
            let radius = p.min(p.width, p.height) / 3;

            // Draw gauge background
            p.noFill();
            p.strokeWeight(20);
            // Green part
            p.stroke(0, 200, 0, 150);
            p.arc(centerX, centerY, radius * 2, radius * 2, p.PI, p.PI + p.map(optimalTime, 0, maxTvTime, 0, p.PI));
            // Yellow part
            p.stroke(255, 200, 0, 150);
            p.arc(centerX, centerY, radius * 2, radius * 2, p.PI + p.map(optimalTime, 0, maxTvTime, 0, p.PI), p.PI + p.map(warningTime, 0, maxTvTime, 0, p.PI));
            // Red part
            p.stroke(200, 0, 0, 150);
            p.arc(centerX, centerY, radius * 2, radius * 2, p.PI + p.map(warningTime, 0, maxTvTime, 0, p.PI), 0);

            // Draw needle
            let angle = p.map(tvTime, 0, maxTvTime, p.PI, 0); // Map time to angle (PI to 0)
            p.push();
            p.translate(centerX, centerY);
            p.rotate(angle);
            p.stroke(50);
            p.strokeWeight(3);
            p.line(0, 0, radius - 5, 0);
            p.pop();
            
            p.fill(50);
            p.ellipse(centerX, centerY, 15, 15);

            // Labels for gauge
            p.textSize(12);
            p.fill(50);
            p.noStroke();
            p.text("0h", centerX - radius - 15, centerY + 5);
            p.text((maxTvTime/2).toFixed(0)+"h", centerX, centerY - radius - 15);
            p.text(maxTvTime+"h", centerX + radius + 15, centerY + 5);

            // Status text
            let statusText = "";
            let statusColor = p.color(0);
            if (tvTime <= optimalTime) {
                statusText = "å¥åº·åŒºåŸŸ (æ”¾æ¾ã€å­¦ä¹ )";
                statusColor = p.color(0, 150, 0);
            } else if (tvTime <= warningTime) {
                statusText = "è­¦å‘ŠåŒºåŸŸ (æ³¨æ„æ—¶é—´)";
                statusColor = p.color(200, 150, 0);
            } else {
                statusText = "å±é™©åŒºåŸŸ (ä¼¤çœ¼ã€æ²™å‘åœŸè±†è­¦å‘Š!)";
                statusColor = p.color(200, 0, 0);
            }
            p.fill(statusColor);
            p.textSize(14);
            p.text(statusText, p.width/2, centerY + radius + 30);
        };

        p.increaseTime = () => {
            tvTime = p.min(tvTime + 0.5, maxTvTime);
            p.drawScene();
        };
        p.decreaseTime = () => {
            tvTime = p.max(tvTime - 0.5, 0);
            p.drawScene();
        };
        p.reset = () => {
            tvTime = 0;
            p.drawScene();
        };
    };

    // --- Animation 4: Hometown Impression Puzzle ---
    const hometownPuzzleSketch = (p) => {
        class PuzzlePiece {
            constructor(label, targetX, targetY, w, h, imgChar, color) {
                this.label = label;
                this.targetX = targetX;
                this.targetY = targetY;
                this.w = w;
                this.h = h;
                this.imgChar = imgChar; // Character to represent image
                this.color = color;
                this.currentX = p.random(-p.width/2, p.width * 1.5);
                this.currentY = p.random(-p.height/2, p.height * 1.5);
                this.isPlaced = false;
                this.alpha = 0;
            }

            update() {
                if (!this.isPlaced) {
                    this.currentX = p.lerp(this.currentX, this.targetX, 0.05);
                    this.currentY = p.lerp(this.currentY, this.targetY, 0.05);
                    this.alpha = p.lerp(this.alpha, 255, 0.05);
                    if (p.dist(this.currentX, this.currentY, this.targetX, this.targetY) < 1) {
                        this.currentX = this.targetX;
                        this.currentY = this.targetY;
                        this.isPlaced = true;
                    }
                }
            }

            display() {
                p.fill(this.color[0], this.color[1], this.color[2], this.alpha);
                p.stroke(255, this.alpha);
                p.strokeWeight(2);
                p.rect(this.currentX, this.currentY, this.w, this.h, 5);
                
                p.fill(0,0,0, this.alpha);
                p.noStroke();
                p.textAlign(p.CENTER, p.CENTER);
                p.textSize(this.w / 4); // Dynamic text size
                p.text(this.imgChar, this.currentX + this.w / 2, this.currentY + this.h / 2.5);
                p.textSize(this.w / 7);
                p.text(this.label, this.currentX + this.w / 2, this.currentY + this.h * 0.8);
            }
            reset() {
                 this.currentX = p.random(-p.width/2, p.width * 1.5);
                 this.currentY = p.random(-p.height/2, p.height * 1.5);
                 this.isPlaced = false;
                 this.alpha = 0;
            }
        }

        let pieces = [];
        let assemblyOrder = 0;
        let playing = false;
        let pieceData = [
            {label: "å—æ–¹å¤§åŸ", char: "æ¡‚", color: [100,150,255]}, // Guangxi
            {label: "ç»¿æ„ç›ç„¶", char: "ğŸŒ³", color: [70,200,100]}, // Green City
            {label: "é’ç§€å±±æ™¯", char: "â›°ï¸", color: [150,120,100]}, // Mountain
            {label: "é‚•æ±Ÿæ°´ç§€", char: "ğŸŒŠ", color: [80,180,220]}, // River
            {label: "ç‰¹è‰²ç¾é£Ÿ", char: "ğŸœ", color: [255,160,50]}, // Food
            {label: "äººæ°‘å‹å¥½", char: "ğŸ˜Š", color: [255,100,150]}  // Friendly
        ];
        let pieceW, pieceH;


        p.setup = () => {
            let canvasContainer = p.select('#hometownPuzzleCanvas');
            let canvas = p.createCanvas(canvasContainer.width, canvasContainer.height);
            canvas.parent('hometownPuzzleCanvas');
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };

        p.resetSim = () => {
            pieces = [];
            playing = false;
            assemblyOrder = 0;
            
            let numCols = 3;
            let numRows = 2;
            pieceW = (p.width - 80) / numCols; // margins
            pieceH = (p.height - 100) / numRows; // margins and title space

            for(let r=0; r<numRows; r++) {
                for(let c=0; c<numCols; c++) {
                    let index = r * numCols + c;
                    if (index < pieceData.length) {
                        let data = pieceData[index];
                        pieces.push(new PuzzlePiece(
                            data.label,
                            30 + c * (pieceW + 10), // targetX
                            60 + r * (pieceH + 10), // targetY
                            pieceW, pieceH, data.char, data.color
                        ));
                    }
                }
            }
             pieces.forEach(piece => piece.reset()); // Ensure initial random positions
        };
        
        p.drawScene = () => {
            p.background(255, 255, 240);
            p.textSize(18);
            p.textAlign(p.CENTER, p.CENTER);
            p.fill(50);
            p.text("å®¶ä¹¡å—å®å°è±¡æ‹¼å›¾", p.width / 2, 30);

            for (let piece of pieces) {
                piece.display();
            }
        };

        p.draw = () => {
            if (!playing) return;

            if (assemblyOrder < pieces.length) {
                pieces[assemblyOrder].update();
                if (pieces[assemblyOrder].isPlaced) {
                    assemblyOrder++;
                }
            } else {
                playing = false; // All pieces placed
                p.noLoop();
            }
            p.drawScene();
        };
        
        p.startAssembly = () => {
            if (!playing || assemblyOrder >= pieces.length) {
                 p.resetSim(); // Reset and randomize positions
            }
            playing = true;
            assemblyOrder = 0; // Start from the first piece
            p.loop();
        };
        
        p.reset = () => {
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };
    };

    // --- Animation 5: Friendly Force Field ---
    const friendlyForceFieldSketch = (p) => {
        let cityCenter;
        let visitors = [];
        let fieldActive = false;
        let fieldRadius = 0;
        let targetFieldRadius = 120;
        let playing = false; // Not used for continuous animation, but for triggering events

        class Visitor {
            constructor() {
                this.pos = p.createVector(p.random(p.width), p.random(p.height));
                while(p.dist(this.pos.x, this.pos.y, cityCenter.x, cityCenter.y) < targetFieldRadius * 1.2) {
                     this.pos = p.createVector(p.random(p.width), p.random(p.height)); // Ensure starts outside field
                }
                this.vel = p.createVector(0,0);
                this.acc = p.createVector(0,0);
                this.maxSpeed = 2;
                this.maxForce = 0.1;
                this.color = p.color(p.random(100,255), p.random(100,200), p.random(200,255), 200);
                this.isAttracted = false;
                this.isInside = false;
            }

            applyForce(force) {
                this.acc.add(force);
            }

            seek(target) {
                let desired = p5.Vector.sub(target, this.pos);
                desired.setMag(this.maxSpeed);
                let steer = p5.Vector.sub(desired, this.vel);
                steer.limit(this.maxForce);
                return steer;
            }

            update() {
                if (this.isAttracted && !this.isInside) {
                    let attractionForce = this.seek(cityCenter);
                    this.applyForce(attractionForce);
                }

                this.vel.add(this.acc);
                this.vel.limit(this.maxSpeed);
                this.pos.add(this.vel);
                this.acc.mult(0); // Reset acceleration

                if (p.dist(this.pos.x, this.pos.y, cityCenter.x, cityCenter.y) < 20) {
                    this.isInside = true;
                    this.vel.mult(0); // Stop when reached center
                }
            }

            display() {
                p.fill(this.color);
                p.noStroke();
                p.ellipse(this.pos.x, this.pos.y, 12, 12);
            }
             reset() {
                this.pos = p.createVector(p.random(p.width), p.random(p.height));
                this.isAttracted = false;
                this.isInside = false;
                this.vel.mult(0);
                this.acc.mult(0);
            }
        }

        p.setup = () => {
            let canvasContainer = p.select('#friendlyForceFieldCanvas');
            let canvas = p.createCanvas(canvasContainer.width, canvasContainer.height);
            canvas.parent('friendlyForceFieldCanvas');
            cityCenter = p.createVector(p.width / 2, p.height / 2);
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };

        p.resetSim = () => {
            visitors = [];
            fieldActive = false;
            fieldRadius = 0;
            playing = false; // Reset playing state
        };
        
        p.drawScene = () => {
            p.background(240, 255, 240);
            p.textSize(16);
            p.textAlign(p.CENTER, p.CENTER);
            p.fill(50);
            p.text("å®¶ä¹¡çš„â€œå‹å¥½åŠ›åœºâ€ä¸è¿æ¥", p.width / 2, 30);

            // Draw city center (Nanning)
            p.fill(100, 200, 100, 180);
            p.noStroke();
            p.ellipse(cityCenter.x, cityCenter.y, 60, 60);
            p.fill(0);
            p.textSize(14);
            p.text("å—å®", cityCenter.x, cityCenter.y);

            // Draw force field if active
            if (fieldRadius > 0) {
                p.noFill();
                p.stroke(255, 165, 0, 100); // Warm orange glow
                p.strokeWeight(fieldRadius * 0.15); // Glow effect
                p.ellipse(cityCenter.x, cityCenter.y, fieldRadius * 2, fieldRadius * 2);
                p.stroke(255, 165, 0, 180);
                p.strokeWeight(2);
                p.ellipse(cityCenter.x, cityCenter.y, fieldRadius * 2, fieldRadius * 2);
            }

            for (let v of visitors) {
                v.display();
            }
        };

        p.draw = () => { // This draw loop is mainly for animations like field growing or visitors moving
            if (!playing) return;

            if (fieldActive && fieldRadius < targetFieldRadius) {
                fieldRadius = p.lerp(fieldRadius, targetFieldRadius, 0.1);
            } else if (!fieldActive && fieldRadius > 0) {
                fieldRadius = p.lerp(fieldRadius, 0, 0.1);
                 if (fieldRadius < 1) fieldRadius = 0;
            }

            let allVisitorsInsideOrNotAttracted = true;
            for (let v of visitors) {
                if(v.isAttracted && !v.isInside) {
                    v.update();
                    allVisitorsInsideOrNotAttracted = false;
                }
            }
            
            if (allVisitorsInsideOrNotAttracted && ((fieldActive && fieldRadius >= targetFieldRadius -1) || (!fieldActive && fieldRadius == 0) )) {
                playing = false; // Stop if field is stable and visitors are done
                p.noLoop();
            }
            p.drawScene();
        };
        
        p.toggleField = () => {
            fieldActive = !fieldActive;
            playing = true;
            p.loop();
        };

        p.addVisitor = () => {
            let newVisitor = new Visitor();
            if (fieldActive) { // Only attract if field is on
                 newVisitor.isAttracted = true;
            }
            visitors.push(newVisitor);
            playing = true;
            p.loop();
        };
        
        p.reset = () => {
            p.resetSim();
            p.noLoop();
            p.drawScene();
        };
    };

    // --- Global Animation Control Functions ---
    // Instantiated in DOMContentLoaded

    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => { 
            if (typeof timeEnergySketch === 'function' && document.getElementById('timeEnergyCanvas')) {
                animInstances.timeEnergy = new p5(timeEnergySketch, 'timeEnergyCanvas');
            }
            if (typeof dominoEffectSketch === 'function' && document.getElementById('dominoEffectCanvas')) {
                animInstances.dominoEffect = new p5(dominoEffectSketch, 'dominoEffectCanvas');
                animInstances.dominoEffect.triggerBad = (type) => animInstances.dominoEffect.triggerChain('bad'); // Alias for button
                animInstances.dominoEffect.triggerGood = (type) => animInstances.dominoEffect.triggerChain('good'); // Alias for button
            }
            if (typeof healthDashboardSketch === 'function' && document.getElementById('healthDashboardCanvas')) {
                animInstances.healthDashboard = new p5(healthDashboardSketch, 'healthDashboardCanvas');
            }
            if (typeof hometownPuzzleSketch === 'function' && document.getElementById('hometownPuzzleCanvas')) {
                animInstances.hometownPuzzle = new p5(hometownPuzzleSketch, 'hometownPuzzleCanvas');
            }
            if (typeof friendlyForceFieldSketch === 'function' && document.getElementById('friendlyForceFieldCanvas')) {
                animInstances.friendlyForceField = new p5(friendlyForceFieldSketch, 'friendlyForceFieldCanvas');
            }
        }, 150);
    });

</script>
</body>
</html>