<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SFTè®°å¿†ï¼ŒRLæ³›åŒ–ï¼šåŸºç¡€æ¨¡å‹åè®­ç»ƒçš„ç‰©ç†é€»è¾‘è§£æ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            font-size: 16px;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-top: 20px;
            margin-bottom: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border-radius: 15px;
            color: white;
        }
        
        .title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .authors {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .institutions {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 20px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 2px;
        }
        
        .highlight {
            background: linear-gradient(45deg, #ffeb3b, #ff9800);
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: 600;
            color: #333;
        }
        
        .key-point {
            background: rgba(102, 126, 234, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
        
        .animation-container {
            width: 100%;
            height: 400px;
            border: 2px solid #ddd;
            border-radius: 15px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.9);
            position: relative;
            overflow: hidden;
        }
        
        .canvas-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .canvas-container canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
        }
        
        .controls {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .physics-analogy {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .comparison-table th, .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
        }
        
        .formula {
            background: rgba(102, 126, 234, 0.1);
            padding: 10px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            border: 1px dashed #667eea;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .title {
                font-size: 24px;
            }
            
            .section-title {
                font-size: 20px;
            }
            
            body {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">SFTè®°å¿†ï¼ŒRLæ³›åŒ–ï¼šåŸºç¡€æ¨¡å‹åè®­ç»ƒçš„ç‰©ç†é€»è¾‘è§£æ</div>
            <div class="authors">
                <strong>ä½œè€…å›¢é˜Ÿï¼š</strong>Tianzhe Chu, Yuexiang Zhai, Jihan Yang, Shengbang Tong, 
                Saining Xie, Dale Schuurmans, Quoc V. Le, Sergey Levine, Yi Ma
            </div>
            <div class="institutions">
                <strong>ç ”ç©¶æœºæ„ï¼š</strong>é¦™æ¸¯å¤§å­¦ (HKU) â€¢ åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ (UC Berkeley) â€¢ 
                Google DeepMind â€¢ çº½çº¦å¤§å­¦ (NYU)
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ¯ æ ¸å¿ƒå‘ç°ä¸ç‰©ç†ç±»æ¯”</div>
            <div class="physics-analogy">
                <h4>ğŸ§® ç‰©ç†ç³»ç»Ÿç±»æ¯”</h4>
                <p><strong>SFT (ç›‘ç£å¾®è°ƒ)</strong> å¦‚åŒ<span class="highlight">æ™¶ä½“ç»“æ„</span>ï¼šå€¾å‘äºå½¢æˆå›ºå®šæ¨¡å¼ï¼Œè®°å¿†ç‰¹å®šé…ç½®ï¼Œä½†åœ¨æ–°ç¯å¢ƒä¸‹éš¾ä»¥é€‚åº”</p>
                <p><strong>RL (å¼ºåŒ–å­¦ä¹ )</strong> å¦‚åŒ<span class="highlight">æµä½“åŠ¨åŠ›å­¦</span>ï¼šèƒ½å¤Ÿæ ¹æ®ç¯å¢ƒåé¦ˆåŠ¨æ€è°ƒæ•´ï¼Œå½¢æˆæ™®é€‚æ€§è§„å¾‹</p>
            </div>
            
            <div class="key-point">
                <strong>ğŸ”¬ æ ¸å¿ƒæ´å¯Ÿï¼š</strong>è¿™é¡¹ç ”ç©¶æ­ç¤ºäº†AIè®­ç»ƒä¸­çš„ä¸€ä¸ªåŸºæœ¬ç‰©ç†åŸç†â€”â€”
                <span class="highlight">è®°å¿†ä¸æ³›åŒ–ä¹‹é—´çš„æœ¬è´¨æƒè¡¡</span>ã€‚SFTåƒå›ºä½“çš„è®°å¿†æ•ˆåº”ï¼Œè€ŒRLåƒæ¶²ä½“çš„é€‚åº”æ€§æµåŠ¨ã€‚
            </div>

            <div class="animation-container">
                <div class="canvas-container" id="learningModeCanvas"></div>
                <div class="controls">
                    <button class="btn" onclick="toggleLearningAnimation()">æ’­æ”¾/æš‚åœ</button>
                    <button class="btn" onclick="resetLearningAnimation()">é‡ç½®</button>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">âš–ï¸ SFT vs RLï¼šè®°å¿†ä¸æ³›åŒ–çš„å¯¹æ¯”</div>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>SFT (ç›‘ç£å¾®è°ƒ)</th>
                        <th>RL (å¼ºåŒ–å­¦ä¹ )</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>å­¦ä¹ æœºåˆ¶</strong></td>
                        <td>æ¨¡å¼è®°å¿† (Pattern Memorization)</td>
                        <td>è§„å¾‹æ¢ç´¢ (Rule Discovery)</td>
                    </tr>
                    <tr>
                        <td><strong>ç‰©ç†ç±»æ¯”</strong></td>
                        <td>æ™¶ä½“å›ºåŒ–è¿‡ç¨‹</td>
                        <td>è‡ªé€‚åº”æµä½“</td>
                    </tr>
                    <tr>
                        <td><strong>åˆ†å¸ƒå†…æ€§èƒ½</strong></td>
                        <td>å¿«é€Ÿæ”¶æ•›</td>
                        <td>ç¨³æ­¥æå‡</td>
                    </tr>
                    <tr>
                        <td><strong>åˆ†å¸ƒå¤–æ³›åŒ–</strong></td>
                        <td>æ€§èƒ½ä¸‹é™ (-8.1% åˆ° -79.5%)</td>
                        <td>æ€§èƒ½æå‡ (+3.0% åˆ° +11.0%)</td>
                    </tr>
                </tbody>
            </table>

            <div class="animation-container">
                <div class="canvas-container" id="performanceComparisonCanvas"></div>
                <div class="controls">
                    <button class="btn" onclick="togglePerformanceAnimation()">æ’­æ”¾/æš‚åœ</button>
                    <button class="btn" onclick="switchTaskType()">åˆ‡æ¢ä»»åŠ¡ç±»å‹</button>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ§ª å®éªŒè®¾è®¡ï¼šåŒä»»åŠ¡éªŒè¯ä½“ç³»</div>
            
            <div class="key-point">
                <strong>ğŸ® GeneralPointsç¯å¢ƒï¼š</strong>åŸºäºPoints24çš„ç®—æœ¯æ¨ç†å¡ç‰Œæ¸¸æˆ
                <div class="formula">
                ç›®æ ‡ï¼šä½¿ç”¨å››å¼ å¡ç‰Œ [a, b, c, d] æ„é€ ç­‰å¼ = 24<br>
                è§„åˆ™å˜ä½“ï¼šJ, Q, K â†’ {10, 10, 10} vs {11, 12, 13}
                </div>
            </div>

            <div class="key-point">
                <strong>ğŸ—ºï¸ V-IRLç¯å¢ƒï¼š</strong>ç°å®ä¸–ç•Œè§†è§‰å¯¼èˆªä»»åŠ¡
                <div class="formula">
                ç›®æ ‡ï¼šæ ¹æ®æ–‡æœ¬æŒ‡ä»¤å’Œè§†è§‰è§‚å¯Ÿå¯¼èˆªåˆ°ç›®æ ‡ä½ç½®<br>
                åŠ¨ä½œç©ºé—´ï¼šç»å¯¹æ–¹å‘ vs ç›¸å¯¹æ–¹å‘
                </div>
            </div>

            <div class="animation-container">
                <div class="canvas-container" id="taskEnvironmentCanvas"></div>
                <div class="controls">
                    <button class="btn" onclick="toggleTaskAnimation()">æ’­æ”¾/æš‚åœ</button>
                    <button class="btn" onclick="switchEnvironment()">åˆ‡æ¢ç¯å¢ƒ</button>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“Š éªŒè¯æ­¥æ•°çš„å…³é”®ä½œç”¨</div>
            
            <p>ç ”ç©¶å‘ç°ï¼Œ<span class="highlight">éªŒè¯è¿­ä»£æ¬¡æ•°</span>å¯¹RLçš„æ³›åŒ–èƒ½åŠ›æœ‰æ˜¾è‘—å½±å“ï¼Œè¿™ç±»ä¼¼äºç‰©ç†ç³»ç»Ÿä¸­çš„<strong>å¤šæ¬¡æµ‹é‡æé«˜ç²¾åº¦</strong>çš„åŸç†ã€‚</p>

            <div class="key-point">
                <strong>ğŸ”„ éªŒè¯æ­¥æ•°æ•ˆåº”ï¼š</strong>
                <ul>
                    <li>1æ­¥éªŒè¯ï¼šä»…+0.48%çš„OODæ€§èƒ½æå‡</li>
                    <li>3æ­¥éªŒè¯ï¼š+2.15%çš„æ€§èƒ½æå‡</li>
                    <li>5æ­¥éªŒè¯ï¼š+2.99%çš„æ€§èƒ½æå‡</li>
                    <li>10æ­¥éªŒè¯ï¼š+5.99%çš„æ€§èƒ½æå‡</li>
                </ul>
            </div>

            <div class="animation-container">
                <div class="canvas-container" id="verificationStepsCanvas"></div>
                <div class="controls">
                    <button class="btn" onclick="toggleVerificationAnimation()">æ’­æ”¾/æš‚åœ</button>
                    <button class="btn" onclick="changeVerificationSteps()">æ”¹å˜æ­¥æ•°</button>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ‘ï¸ RLå¯¹è§†è§‰èƒ½åŠ›çš„æ„å¤–æå‡</div>
            
            <div class="physics-analogy">
                <h4>ğŸŒŸ æ„å¤–å‘ç°</h4>
                <p>RLè®­ç»ƒä¸ä»…æå‡äº†æ¨ç†èƒ½åŠ›ï¼Œè¿˜<span class="highlight">æ„å¤–æ”¹å–„äº†è§†è§‰è¯†åˆ«å‡†ç¡®ç‡</span>ï¼Œ
                è¿™ç±»ä¼¼äºç‰©ç†ç³»ç»Ÿä¸­çš„"è€¦åˆæ•ˆåº”"â€”â€”ä¸€ä¸ªå­ç³»ç»Ÿçš„ä¼˜åŒ–å¸¦åŠ¨æ•´ä½“æ€§èƒ½æå‡ã€‚</p>
            </div>

            <div class="key-point">
                <strong>ğŸ¯ è§†è§‰è¯†åˆ«æå‡æœºåˆ¶ï¼š</strong>
                <div class="formula">
                RLè®­ç»ƒ â†’ ç»“æœå¯¼å‘å¥–åŠ± â†’ è§†è§‰-æ¨ç†è€¦åˆä¼˜åŒ– â†’ è¯†åˆ«èƒ½åŠ›æå‡
                </div>
            </div>

            <div class="animation-container">
                <div class="canvas-container" id="visualCapabilityCanvas"></div>
                <div class="controls">
                    <button class="btn" onclick="toggleVisualAnimation()">æ’­æ”¾/æš‚åœ</button>
                    <button class="btn" onclick="showRecognitionDetails()">æ˜¾ç¤ºç»†èŠ‚</button>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸš€ å®è·µæ„ä¹‰ä¸æœªæ¥å±•æœ›</div>
            
            <div class="key-point">
                <strong>ğŸ’¡ æ ¸å¿ƒå¯ç¤ºï¼š</strong>
                <ul>
                    <li><span class="highlight">SFTä½œä¸º"æ ¼å¼æ•™å¸ˆ"</span>ï¼šç¨³å®šè¾“å‡ºæ ¼å¼ï¼Œä¸ºRLè®­ç»ƒå¥ å®šåŸºç¡€</li>
                    <li><span class="highlight">RLä½œä¸º"æ³›åŒ–å¼•æ“"</span>ï¼šå­¦ä¹ å¯è¿ç§»çš„æ¨ç†è§„å¾‹</li>
                    <li><span class="highlight">ååŒè®­ç»ƒç­–ç•¥</span>ï¼šSFTåˆå§‹åŒ– + RLå¾®è°ƒçš„æœ€ä¼˜èŒƒå¼</li>
                </ul>
            </div>

            <div class="physics-analogy">
                <h4>ğŸ”® ç‰©ç†å­¦è§†è§’çš„é¢„æµ‹</h4>
                <p>åŸºäº<strong>ä¿¡æ¯è®º</strong>å’Œ<strong>ç»Ÿè®¡åŠ›å­¦</strong>åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹ï¼šæœªæ¥çš„AIè®­ç»ƒå°†æ›´å¤šé‡‡ç”¨
                <span class="highlight">"ç›¸å˜"å¼çš„å¤šé˜¶æ®µè®­ç»ƒ</span>ï¼Œæ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸åŒçš„å­¦ä¹ ç‰©ç†æœºåˆ¶ã€‚</p>
            </div>

            <div class="formula">
                <strong>è®­ç»ƒæ•ˆæœå…¬å¼åŒ–è¡¨è¾¾ï¼š</strong><br>
                æ³›åŒ–èƒ½åŠ› = f(åˆå§‹çŸ¥è¯†ç»“æ„, ç¯å¢ƒåé¦ˆè´¨é‡, éªŒè¯è¿­ä»£æ·±åº¦)<br>
                å…¶ä¸­ f éµå¾ªä¿¡æ¯ç†µæœ€å¤§åŒ–åŸç†
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ¯ ç»“è®ºï¼šè®°å¿†ä¸æ³›åŒ–çš„æ™ºæ…§å¹³è¡¡</div>
            
            <p>è¿™é¡¹ç ”ç©¶ä»<strong>ç‰©ç†å­¦è§†è§’</strong>æ­ç¤ºäº†AIè®­ç»ƒçš„æ·±å±‚è§„å¾‹ï¼š</p>
            
            <div class="key-point">
                <strong>ğŸ§¬ æ ¸å¿ƒæ´å¯Ÿï¼š</strong>
                SFTå’ŒRLä»£è¡¨äº†å­¦ä¹ ç³»ç»Ÿä¸­<span class="highlight">ä¸¤ç§åŸºæœ¬çš„ä¿¡æ¯å¤„ç†æ¨¡å¼</span>â€”â€”
                è®°å¿†å›ºåŒ–ä¸é€‚åº”è¿›åŒ–ã€‚æœ€ä¼˜çš„AIç³»ç»Ÿéœ€è¦åœ¨è¿™ä¸¤ç§æ¨¡å¼é—´æ‰¾åˆ°åŠ¨æ€å¹³è¡¡ï¼Œ
                å°±åƒè‡ªç„¶ç•Œä¸­<strong>ç»“æ„ç¨³å®šæ€§ä¸åŠŸèƒ½çµæ´»æ€§</strong>çš„ç²¾å¦™å¹³è¡¡ã€‚
            </div>

            <div class="physics-analogy">
                <p><strong>ğŸŒŠ å±•æœ›æœªæ¥ï¼š</strong>ä¸‹ä¸€ä»£AIè®­ç»ƒæ–¹æ³•å¯èƒ½å€Ÿé‰´<span class="highlight">é‡å­ç³»ç»Ÿçš„å åŠ æ€åŸç†</span>ï¼Œ
                åŒæ—¶ä¿æŒè®°å¿†çš„ç¡®å®šæ€§å’Œæ³›åŒ–çš„æ¦‚ç‡æ€§ï¼Œå®ç°çœŸæ­£çš„"æ™ºèƒ½æ¶Œç°"ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let learningModeSketch, performanceSketch, taskSketch, verificationSketch, visualSketch;
        let animations = {
            learning: { playing: false, reset: false },
            performance: { playing: false, taskType: 'GP-L' },
            task: { playing: false, environment: 'GeneralPoints' },
            verification: { playing: false, steps: 1 },
            visual: { playing: false, showDetails: false }
        };

        // å­¦ä¹ æ¨¡å¼å¯¹æ¯”åŠ¨ç”»
        function setupLearningModeAnimation() {
            learningModeSketch = new p5((p) => {
                let time = 0;
                let particles = [];
                
                p.setup = () => {
                    let canvas = p.createCanvas(400, 300);
                    canvas.parent('learningModeCanvas');
                    
                    // åˆå§‹åŒ–ç²’å­ï¼ˆä»£è¡¨æ•°æ®ç‚¹ï¼‰
                    for (let i = 0; i < 30; i++) {
                        particles.push({
                            x: p.random(p.width),
                            y: p.random(p.height),
                            targetX: p.random(p.width),
                            targetY: p.random(p.height),
                            sftX: p.random(50, 150),
                            sftY: p.random(50, 250),
                            rlX: p.random(250, 350),
                            rlY: p.random(50, 250),
                            size: p.random(3, 8),
                            color: p.color(p.random(100, 255), p.random(100, 255), p.random(100, 255))
                        });
                    }
                    
                    // æ‰‹åŠ¨ç»˜åˆ¶ä¸€å¸§
                    p.background(245);
                    p.textAlign(p.CENTER, p.CENTER);
                    p.textSize(16);
                    p.fill(102, 126, 234);
                    p.text('SFT: è®°å¿†å›ºåŒ–', 100, 30);
                    p.fill(118, 75, 162);
                    p.text('RL: é€‚åº”è¿›åŒ–', 300, 30);
                };
                
                p.draw = () => {
                    if (!animations.learning.playing && !animations.learning.reset) return;
                    
                    if (animations.learning.reset) {
                        time = 0;
                        animations.learning.reset = false;
                    }
                    
                    p.background(245, 245, 250);
                    
                    // ç»˜åˆ¶æ ‡é¢˜
                    p.textAlign(p.CENTER, p.CENTER);
                    p.textSize(16);
                    p.fill(102, 126, 234);
                    p.text('SFT: è®°å¿†å›ºåŒ–', 100, 30);
                    p.fill(118, 75, 162);
                    p.text('RL: é€‚åº”è¿›åŒ–', 300, 30);
                    
                    // ç»˜åˆ¶åˆ†ç•Œçº¿
                    p.stroke(200);
                    p.line(200, 50, 200, 270);
                    
                    // SFTåŒºåŸŸ - æ™¶ä½“ç»“æ„æ•ˆæœ
                    p.noStroke();
                    for (let i = 0; i < particles.length / 2; i++) {
                        let particle = particles[i];
                        let progress = p.min(time / 200, 1);
                        
                        // å‘å›ºå®šä½ç½®èšé›†
                        let currentX = p.lerp(particle.x, particle.sftX, progress);
                        let currentY = p.lerp(particle.y, particle.sftY, progress);
                        
                        p.fill(particle.color.levels[0], particle.color.levels[1], particle.color.levels[2], 180);
                        p.circle(currentX, currentY, particle.size * (1 + 0.5 * progress));
                    }
                    
                    // RLåŒºåŸŸ - æµä½“åŠ¨åŠ›å­¦æ•ˆæœ
                    for (let i = particles.length / 2; i < particles.length; i++) {
                        let particle = particles[i];
                        
                        // åŠ¨æ€é€‚åº”æ€§ç§»åŠ¨
                        let flowX = 50 * p.sin(time * 0.02 + i);
                        let flowY = 30 * p.cos(time * 0.03 + i);
                        
                        particle.rlX += flowX * 0.01;
                        particle.rlY += flowY * 0.01;
                        
                        // è¾¹ç•Œæ£€æµ‹
                        if (particle.rlX < 210) particle.rlX = 210;
                        if (particle.rlX > 390) particle.rlX = 390;
                        if (particle.rlY < 60) particle.rlY = 60;
                        if (particle.rlY > 260) particle.rlY = 260;
                        
                        p.fill(particle.color.levels[0], particle.color.levels[1], particle.color.levels[2], 150);
                        p.circle(particle.rlX, particle.rlY, particle.size);
                    }
                    
                    // ç»˜åˆ¶æ–‡å­—è¯´æ˜
                    p.fill(60);
                    p.textSize(12);
                    p.text('å›ºå®šæ¨¡å¼', 100, 280);
                    p.text('åŠ¨æ€é€‚åº”', 300, 280);
                    
                    time++;
                };
            });
        }

        // æ€§èƒ½å¯¹æ¯”åŠ¨ç”»
        function setupPerformanceAnimation() {
            performanceSketch = new p5((p) => {
                let dataPoints = [];
                let currentFrame = 0;
                let maxFrames = 300;
                
                p.setup = () => {
                    let canvas = p.createCanvas(400, 300);
                    canvas.parent('performanceComparisonCanvas');
                    
                    // æ‰‹åŠ¨ç»˜åˆ¶ä¸€å¸§
                    p.background(245);
                    p.textAlign(p.CENTER, p.CENTER);
                    p.text('æ€§èƒ½å¯¹æ¯”åˆ†æ', p.width/2, p.height/2);
                };
                
                p.draw = () => {
                    if (!animations.performance.playing) return;
                    
                    p.background(245, 245, 250);
                    
                    // ç»˜åˆ¶åæ ‡è½´
                    p.stroke(100);
                    p.line(50, 250, 350, 250); // xè½´
                    p.line(50, 250, 50, 50);   // yè½´
                    
                    // æ ‡ç­¾
                    p.fill(60);
                    p.noStroke();
                    p.textAlign(p.CENTER);
                    p.textSize(12);
                    p.text('è®­ç»ƒè®¡ç®—é‡', 200, 280);
                    p.push();
                    p.translate(20, 150);
                    p.rotate(-p.HALF_PI);
                    p.text('æˆåŠŸç‡ (%)', 0, 0);
                    p.pop();
                    
                    // ä»»åŠ¡ç±»å‹æ˜¾ç¤º
                    p.textAlign(p.LEFT);
                    p.textSize(14);
                    p.fill(102, 126, 234);
                    p.text(`å½“å‰ä»»åŠ¡: ${animations.performance.taskType}`, 60, 30);
                    
                    // ç»˜åˆ¶æ•°æ®çº¿
                    if (currentFrame < maxFrames) {
                        let progress = currentFrame / maxFrames;
                        let points = Math.floor(progress * 20);
                        
                        // SFTçº¿ (åˆ†å¸ƒå†…)
                        p.stroke(255, 100, 100);
                        p.strokeWeight(3);
                        p.noFill();
                        p.beginShape();
                        for (let i = 0; i <= points; i++) {
                            let x = p.map(i, 0, 20, 60, 340);
                            let y = p.map(80 - i * 1.5, 0, 100, 240, 60); // ä¸‹é™è¶‹åŠ¿
                            p.vertex(x, y);
                        }
                        p.endShape();
                        
                        // RLçº¿ (åˆ†å¸ƒå†…)
                        p.stroke(100, 255, 100);
                        p.beginShape();
                        for (let i = 0; i <= points; i++) {
                            let x = p.map(i, 0, 20, 60, 340);
                            let y = p.map(50 + i * 2, 0, 100, 240, 60); // ä¸Šå‡è¶‹åŠ¿
                            p.vertex(x, y);
                        }
                        p.endShape();
                        
                        currentFrame++;
                    }
                    
                    // å›¾ä¾‹
                    p.textAlign(p.LEFT);
                    p.textSize(10);
                    p.fill(255, 100, 100);
                    p.text('â–  SFT (åˆ†å¸ƒå¤–)', 60, 70);
                    p.fill(100, 255, 100);
                    p.text('â–  RL (åˆ†å¸ƒå¤–)', 60, 85);
                };
            });
        }

        // ä»»åŠ¡ç¯å¢ƒåŠ¨ç”»
        function setupTaskEnvironmentAnimation() {
            taskSketch = new p5((p) => {
                let cardAnimation = 0;
                let navigationStep = 0;
                
                p.setup = () => {
                    let canvas = p.createCanvas(400, 300);
                    canvas.parent('taskEnvironmentCanvas');
                    
                    // æ‰‹åŠ¨ç»˜åˆ¶ä¸€å¸§
                    p.background(245);
                    p.textAlign(p.CENTER, p.CENTER);
                    p.text('å®éªŒç¯å¢ƒå±•ç¤º', p.width/2, p.height/2);
                };
                
                p.draw = () => {
                    if (!animations.task.playing) return;
                    
                    p.background(245, 245, 250);
                    
                    if (animations.task.environment === 'GeneralPoints') {
                        drawGeneralPointsAnimation();
                    } else {
                        drawVIRLAnimation();
                    }
                };
                
                function drawGeneralPointsAnimation() {
                    // æ ‡é¢˜
                    p.fill(102, 126, 234);
                    p.textAlign(p.CENTER);
                    p.textSize(16);
                    p.text('GeneralPoints: ç®—æœ¯æ¨ç†å¡ç‰Œ', 200, 30);
                    
                    // ç»˜åˆ¶å¡ç‰Œ
                    let cards = ['5', '4', '10', '7'];
                    let cardW = 50, cardH = 70;
                    
                    for (let i = 0; i < 4; i++) {
                        let x = 80 + i * 60;
                        let y = 80;
                        let bounce = 10 * p.sin(cardAnimation + i * 0.5);
                        
                        // å¡ç‰ŒèƒŒæ™¯
                        p.fill(255);
                        p.stroke(100);
                        p.rect(x, y + bounce, cardW, cardH, 5);
                        
                        // å¡ç‰Œæ•°å­—
                        p.fill(50);
                        p.noStroke();
                        p.textAlign(p.CENTER);
                        p.textSize(20);
                        p.text(cards[i], x + cardW/2, y + cardH/2 + bounce);
                    }
                    
                    // ç­‰å¼
                    p.fill(60);
                    p.textSize(14);
                    p.text('ç›®æ ‡: æ„é€ ç­‰å¼ = 24', 200, 180);
                    p.text('ç¤ºä¾‹: (7-5)*10+4 = 24', 200, 200);
                    
                    // è§„åˆ™å˜ä½“è¯´æ˜
                    p.textSize(12);
                    p.fill(118, 75, 162);
                    p.text('è§„åˆ™å˜ä½“: J,Q,K â†’ 10,10,10 vs 11,12,13', 200, 240);
                    
                    cardAnimation += 0.1;
                }
                
                function drawVIRLAnimation() {
                    // æ ‡é¢˜
                    p.fill(102, 126, 234);
                    p.textAlign(p.CENTER);
                    p.textSize(16);
                    p.text('V-IRL: è§†è§‰å¯¼èˆªç¯å¢ƒ', 200, 30);
                    
                    // ç»˜åˆ¶ç®€åŒ–çš„å¯¼èˆªåœºæ™¯
                    p.fill(200, 255, 200);
                    p.noStroke();
                    p.rect(0, 60, 400, 180); // åœ°å›¾èƒŒæ™¯
                    
                    // å»ºç­‘ç‰©
                    p.fill(150, 150, 200);
                    p.rect(50, 80, 40, 30);
                    p.rect(150, 100, 35, 25);
                    p.rect(250, 85, 45, 35);
                    p.rect(320, 110, 30, 20);
                    
                    // æ™ºèƒ½ä½“ä½ç½®
                    let agentX = 70 + navigationStep * 2;
                    let agentY = 150;
                    
                    p.fill(255, 100, 100);
                    p.circle(agentX, agentY, 15);
                    
                    // è·¯å¾„
                    p.stroke(100, 100, 255);
                    p.strokeWeight(2);
                    p.line(70, 150, agentX, agentY);
                    
                    // æŒ‡ä»¤
                    p.fill(60);
                    p.noStroke();
                    p.textAlign(p.CENTER);
                    p.textSize(12);
                    p.text('æŒ‡ä»¤: å‘ä¸œèµ°åˆ°ä¸‹ä¸€ä¸ªè·¯å£...', 200, 260);
                    
                    navigationStep = (navigationStep + 1) % 100;
                }
            });
        }

        // éªŒè¯æ­¥æ•°åŠ¨ç”»
        function setupVerificationAnimation() {
            verificationSketch = new p5((p) => {
                let currentStep = 0;
                let accuracy = 0;
                
                p.setup = () => {
                    let canvas = p.createCanvas(400, 300);
                    canvas.parent('verificationStepsCanvas');
                    
                    // å¼ºåˆ¶è®¾ç½®é«˜åº¦
                    let container = document.getElementById('verificationStepsCanvas');
                    container.style.height = '300px';
                    
                    // æ‰‹åŠ¨ç»˜åˆ¶ä¸€å¸§
                    p.background(245);
                    p.textAlign(p.CENTER, p.CENTER);
                    p.text('éªŒè¯æ­¥æ•°å½±å“åˆ†æ', p.width/2, p.height/2);
                };
                
                p.draw = () => {
                    if (!animations.verification.playing) return;
                    
                    p.background(245, 245, 250);
                    
                    // æ ‡é¢˜
                    p.fill(102, 126, 234);
                    p.textAlign(p.CENTER);
                    p.textSize(16);
                    p.text(`éªŒè¯æ­¥æ•°: ${animations.verification.steps}`, 200, 30);
                    
                    // ç»˜åˆ¶éªŒè¯æµç¨‹
                    let stepWidth = 300 / animations.verification.steps;
                    
                    for (let i = 0; i < animations.verification.steps; i++) {
                        let x = 50 + i * stepWidth;
                        let y = 100;
                        let isActive = currentStep >= i;
                        
                        // æ­¥éª¤åœ†åœˆ
                        p.fill(isActive ? 100 : 200);
                        p.stroke(60);
                        p.circle(x + stepWidth/2, y, 30);
                        
                        // æ­¥éª¤ç¼–å·
                        p.fill(255);
                        p.noStroke();
                        p.textAlign(p.CENTER);
                        p.textSize(12);
                        p.text(i + 1, x + stepWidth/2, y);
                        
                        // è¿æ¥çº¿
                        if (i < animations.verification.steps - 1) {
                            p.stroke(isActive ? 100 : 200);
                            p.line(x + stepWidth/2 + 15, y, x + stepWidth - 15, y);
                        }
                    }
                    
                    // å‡†ç¡®ç‡æ˜¾ç¤º
                    accuracy = Math.min(50 + animations.verification.steps * 10, 95);
                    p.fill(60);
                    p.noStroke();
                    p.textAlign(p.CENTER);
                    p.textSize(14);
                    p.text(`OODå‡†ç¡®ç‡: ${accuracy.toFixed(1)}%`, 200, 180);
                    
                    // å‡†ç¡®ç‡æ¡
                    p.fill(200);
                    p.rect(100, 200, 200, 20);
                    p.fill(100, 255, 100);
                    p.rect(100, 200, accuracy * 2, 20);
                    
                    currentStep = (currentStep + 1) % (animations.verification.steps + 5);
                };
            });
        }

        // è§†è§‰èƒ½åŠ›åŠ¨ç”»
        function setupVisualCapabilityAnimation() {
            visualSketch = new p5((p) => {
                let recognitionAccuracy = 0;
                let time = 0;
                
                p.setup = () => {
                    let canvas = p.createCanvas(400, 300);
                    canvas.parent('visualCapabilityCanvas');
                    
                    // æ‰‹åŠ¨ç»˜åˆ¶ä¸€å¸§
                    p.background(245);
                    p.textAlign(p.CENTER, p.CENTER);
                    p.text('è§†è§‰è¯†åˆ«èƒ½åŠ›æå‡', p.width/2, p.height/2);
                };
                
                p.draw = () => {
                    if (!animations.visual.playing) return;
                    
                    p.background(245, 245, 250);
                    
                    // æ ‡é¢˜
                    p.fill(102, 126, 234);
                    p.textAlign(p.CENTER);
                    p.textSize(16);
                    p.text('RLè®­ç»ƒå¯¹è§†è§‰è¯†åˆ«çš„è€¦åˆæå‡', 200, 30);
                    
                    // æ¨¡æ‹Ÿå¡ç‰Œè¯†åˆ«
                    drawCardRecognition();
                    
                    // è¯†åˆ«å‡†ç¡®ç‡æ›²çº¿
                    drawAccuracyChart();
                    
                    time++;
                };
                
                function drawCardRecognition() {
                    // æ¨¡ç³Šåˆ°æ¸…æ™°çš„å¡ç‰Œ
                    let clarity = p.map(p.sin(time * 0.05), -1, 1, 0.3, 1);
                    
                    for (let i = 0; i < 4; i++) {
                        let x = 80 + i * 60;
                        let y = 80;
                        
                        // å¡ç‰Œ
                        p.fill(255, 255 * clarity);
                        p.stroke(100, 255 * clarity);
                        p.rect(x, y, 40, 55, 3);
                        
                        // è¯†åˆ«æ ‡è®°
                        if (clarity > 0.7) {
                            p.fill(100, 255, 100);
                            p.noStroke();
                            p.circle(x + 35, y + 5, 10);
                            p.fill(255);
                            p.textAlign(p.CENTER);
                            p.textSize(8);
                            p.text('âœ“', x + 35, y + 6);
                        }
                    }
                    
                    recognitionAccuracy = clarity * 100;
                }
                
                function drawAccuracyChart() {
                    // å‡†ç¡®ç‡æ˜¾ç¤º
                    p.fill(60);
                    p.noStroke();
                    p.textAlign(p.CENTER);
                    p.textSize(12);
                    p.text(`è¯†åˆ«å‡†ç¡®ç‡: ${recognitionAccuracy.toFixed(1)}%`, 200, 170);
                    
                    if (animations.visual.showDetails) {
                        p.textSize(10);
                        p.text('RL â†’ ç»“æœå¯¼å‘å¥–åŠ± â†’ è§†è§‰-æ¨ç†è€¦åˆ', 200, 190);
                        p.text('â†’ è¯†åˆ«èƒ½åŠ›æ„å¤–æå‡', 200, 205);
                    }
                    
                    // æ—¶é—´åºåˆ—å›¾
                    p.stroke(118, 75, 162);
                    p.strokeWeight(2);
                    p.noFill();
                    p.beginShape();
                    for (let t = 0; t < time && t < 100; t++) {
                        let x = p.map(t, 0, 100, 50, 350);
                        let acc = 50 + 30 * p.sin(t * 0.1) + t * 0.3;
                        let y = p.map(acc, 0, 100, 260, 220);
                        p.vertex(x, y);
                    }
                    p.endShape();
                }
            });
        }

        // æ§åˆ¶å‡½æ•°
        function toggleLearningAnimation() {
            animations.learning.playing = !animations.learning.playing;
        }

        function resetLearningAnimation() {
            animations.learning.reset = true;
            animations.learning.playing = true;
        }

        function togglePerformanceAnimation() {
            animations.performance.playing = !animations.performance.playing;
        }

        function switchTaskType() {
            const types = ['GP-L', 'GP-VL', 'V-IRL-L', 'V-IRL-VL'];
            const currentIndex = types.indexOf(animations.performance.taskType);
            animations.performance.taskType = types[(currentIndex + 1) % types.length];
        }

        function toggleTaskAnimation() {
            animations.task.playing = !animations.task.playing;
        }

        function switchEnvironment() {
            animations.task.environment = 
                animations.task.environment === 'GeneralPoints' ? 'V-IRL' : 'GeneralPoints';
        }

        function toggleVerificationAnimation() {
            animations.verification.playing = !animations.verification.playing;
        }

        function changeVerificationSteps() {
            const steps = [1, 3, 5, 10];
            const currentIndex = steps.indexOf(animations.verification.steps);
            animations.verification.steps = steps[(currentIndex + 1) % steps.length];
        }

        function toggleVisualAnimation() {
            animations.visual.playing = !animations.visual.playing;
        }

        function showRecognitionDetails() {
            animations.visual.showDetails = !animations.visual.showDetails;
        }

        // åˆå§‹åŒ–æ‰€æœ‰åŠ¨ç”»
        document.addEventListener('DOMContentLoaded', function() {
            setupLearningModeAnimation();
            setupPerformanceAnimation();
            setupTaskEnvironmentAnimation();
            setupVerificationAnimation();
            setupVisualCapabilityAnimation();
        });
    </script>
</body>
</html>